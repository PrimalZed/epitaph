<form #ngForm="ngForm" (submit)="submit(formModel)">
  <fieldset [disabled]="submitting">
    <div class="form-group">
      <label class="form-control-label">Condition</label>
      <condition-picker name="condition" [(ngModel)]="formModel.condition" required></condition-picker>
    </div>
    <div class="form-group">
      <label>Subject</label>
      <input class="form-control" name="subject" [(ngModel)]="formModel.subject" required>
    </div>
    <div class="form-group">
      <label>Sin-Eater</label>
      <input class="form-control" name="createdBy" [(ngModel)]="formModel.createdBy" required>
    </div>
    <ng-container *ngIf="formModel.condition?.primary">
      <div class="form-group">
        <label>Key</label>
        <key-picker name="key" [(ngModel)]="formModel.key"></key-picker>
      </div>
      <div class="form-group">
        <label>Plasm Spent on Activation</label>
        <input type="number" class="form-control" name="activationPlasm" [(ngModel)]="formModel.activationPlasm" required min="1">
      </div>
      <div *ngIf="formModel.condition?.type === 'charged'" class="form-group">
        <label>Charges</label>
        <input type="number" class="form-control" name="charges" [(ngModel)]="formModel.charges" required min="1">
      </div>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="exceptionalSuccess" name="exceptionalSuccess" [(ngModel)]="formModel.exceptionalSuccess">
        <label class="form-check-label" for="exceptionalSuccess">Exceptional Success?</label>
      </div>
    </ng-container>
    <action-button [disabled]="!ngForm.form.touched || !ngForm.form.valid">
      <fa-icon [icon]="['fas', 'check']"></fa-icon>
    </action-button>
  </fieldset>
</form>
